<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport"
        content="width=device-width,initial-scale=1"/>
  <title>Shape Clicker â€“ Full Release</title>
  <style>
    body, html {
      margin: 0;
      padding: 0;
      font-family: Arial, sans-serif;
      background: #f0f0f0;
      overflow: hidden;
    }
    .screen {
      display: none;
      position: absolute;
      top: 0; left: 0;
      width: 100vw; height: 100vh;
      background: #e8e8e8;
      overflow: auto;
    }
    .header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      background: #ccc;
      padding: 12px;
    }
    button, .backBtn { cursor: pointer; }
    #seasonalBanner {
      display: none;
      position: fixed;
      top: 0; left: 0;
      width: 100%;
      padding: 10px;
      background: orangered;
      color: white;
      text-align: center;
      font-size: 18px;
      z-index: 10;
    }
    #leaderboard {
      position: fixed;
      bottom: 0; left: 50%;
      transform: translateX(-50%);
      width: 280px;
      background: rgba(255,255,255,0.9);
      border: 1px solid #888;
      padding: 8px;
      max-height: 200px;
      overflow-y: auto;
      font-size: 14px;
      text-align: left;
      z-index: 10;
      cursor: pointer;
    }
    #leaderboard h3 {
      margin: 4px 0;
      text-align: center;
      font-size: 16px;
    }
    #leaderboard ol {
      margin: 0;
      padding-left: 20px;
    }
    #mainGame {
      position: relative;
      width: 100vw; height: 100vh;
    }
    #gameContainer {
      position: absolute;
      top: 50%; left: 50%;
      transform: translate(-50%, -50%);
      width: 200px; height: 200px;
      cursor: pointer;
    }
    #shapeSVG {
      position: absolute;
      top: 0; left: 0;
      width: 100%; height: 100%;
    }
    #score {
      position: absolute;
      top: 50%; left: 50%;
      transform: translate(-50%, -50%);
      font-size: 20px;
      pointer-events: none;
    }
    @keyframes fallDown {
      from { opacity: 1; transform: translate(-50%, -50%); }
      to   { opacity: 0; transform: translate(-50%, 150px); }
    }
    .falling {
      position: absolute;
      font-size: 18px;
      color: black;
      pointer-events: none;
      left: 50%;
      top: 50%;
      transform: translate(-50%, -50%);
      animation: fallDown 1.5s linear forwards;
      z-index: 2;
    }
    #shopBtn, #awardsBtn, #statsBtn, #reincBtn, #settingsBtn {
      position: absolute;
      padding: 8px 12px;
      font-size: 14px;
    }
    #shopBtn   { top: 20px; right: 20px; }
    #awardsBtn { top: 20px; left: 20px; }
    #statsBtn  { top: 20px; left: 50%; transform: translateX(-50%); }
    #reincBtn  { top: 60px; left: 50%; transform: translateX(-50%); display: none; }
    #settingsBtn { top: 100px; right: 20px; }
    #shopContent {
      display: flex;
      height: calc(100vh - 48px);
    }
    #buildings, #upgrades {
      flex: 1;
      padding: 12px;
      box-sizing: border-box;
    }
    #buildings { border-right: 1px solid #aaa; }
    .shopItem {
      background: white;
      border: 2px solid #888;
      border-radius: 6px;
      margin: 8px auto;
      padding: 8px;
      width: 80%;
      font-size: 14px;
      transition: background 0.3s;
    }
    .shopItem:hover { background: #f9f9f9; }
    .shopItem p { margin: 4px 0; }
    .advRow {
      display: flex;
      overflow-x: auto;
      padding: 8px;
      margin: 8px 0;
      border-bottom: 2px solid #000;
    }
    .achBox {
      flex: 0 0 auto;
      width: 120px; height: 40px;
      margin-right: 8px;
      border: 2px solid #000;
      background: white;
      font-size: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .achBox.unlocked {
      box-shadow: 0 0 10px red, 0 0 15px red;
      animation: glow 1s infinite alternate;
    }
    @keyframes glow {
      from { box-shadow: 0 0 5px red; }
      to   { box-shadow: 0 0 15px red; }
    }
    #statsContent p {
      font-size: 16px;
      margin: 6px 0;
      line-height: 1.4;
    }
    #achievementsContent {
      position: relative;
      height: 100px;
    }
    .achBox.youPlayed {
      position: absolute;
      top: 20px; left: 50%;
      transform: translateX(-50%);
    }
    .achBox.bonus1 {
      position: absolute;
      top: 20px; left: 20%;
      transform: translateX(-50%);
    }
    .achBox.bonus10 {
      position: absolute;
      top: 20px; left: 50%;
      transform: translateX(-50%);
    }
    .achBox.bonus100 {
      position: absolute;
      top: 20px; left: 80%;
      transform: translateX(-50%);
    }
    #challengesContent {
      position: relative;
      height: 140px;
    }
    .challBox {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      width: 180px;
      padding: 12px;
      border: 2px solid #444;
      border-radius: 6px;
      background: white;
      text-align: center;
      font-size: 14px;
    }
    .challBox.speedPoints1 { left: 10%; }
    .challBox.speedPoints2 { left: 45%; }
    .challBox.speedPoints3 { left: 80%; }
    .challBox.speedPoints2::before,
    .challBox.speedPoints2::after {
      content: "";
      position: absolute;
      top: 50%;
      height: 2px;
      background: #000;
    }
    .challBox.speedPoints2::before { left: -35%; width: 35%; }
    .challBox.speedPoints2::after  { right: -35%; width: 35%; }
    .challBox.bonusShapes1000 {
      top: 80%;
      left: 50%;
      transform: translate(-50%, -50%);
    }
    #challengesScreen .header {
      background: #e0e0e0;
    }
    .challBox.unlocked {
      border-color: royalblue;
      box-shadow: 0 0 8px royalblue;
    }
    #settingsScreen .header {
      background: #d7d7d7;
    }
    #settingsScreen label {
      font-size: 16px;
    }
    #settingsScreen select {
      font-size: 16px;
      margin-left: 10px;
    }
  </style>
</head>
<body>
  <div id="seasonalBanner"></div>
  <div id="leaderboard"
       onclick="showScreen('leaderboardScreen')"></div>
  <div id="mainGame">
    <div id="gameContainer"
         onclick="handleClick()">
      <div id="shapeSVG"></div>
      <div id="score">0.00</div>
    </div>
    <button id="shopBtn"
            onclick="showScreen('shopScreen')">Shop</button>
    <button id="awardsBtn"
            onclick="showScreen('awardsScreen')">Awards</button>
    <button id="statsBtn"
            onclick="showScreen('statsScreen')">Stats</button>
    <button id="reincBtn"
            onclick="reincarnate()">Reincarnate <span id="rmult">+0</span></button>
    <button id="settingsBtn"
            onclick="showScreen('settingsScreen')">Settings</button>
  </div>
  <div id="shopScreen" class="screen">
    <div class="header">
      <h1>Shop</h1>
      <button class="backBtn"
              onclick="showScreen()">Back</button>
    </div>
    <div id="shopContent">
      <div id="buildings"><h2>Buildings</h2></div>
      <div id="upgrades"><h2>Upgrades</h2></div>
    </div>
  </div>
  <div id="awardsScreen" class="screen">
    <div class="header">
      <h1>Awards</h1>
      <button class="backBtn"
              onclick="showScreen()">Back</button>
    </div>
    <div id="awardsContent">
      <button class="awardBtn"
              onclick="showScreen('advScreen')">Advancements</button>
      <button class="awardBtn"
              onclick="showScreen('achievementsScreen')">Achievements</button>
      <button class="awardBtn"
              onclick="showScreen('challengesScreen')">Challenges</button>
    </div>
  </div>
  <div id="advScreen" class="screen">
    <div class="header">
      <h1>Advancements</h1>
      <button class="backBtn"
              onclick="showScreen('awardsScreen')">Back</button>
    </div>
    <div id="shapeAdv" class="advRow"></div>
    <div id="clickAdv" class="advRow"></div>
    <div id="pointsAdv" class="advRow"></div>
    <div id="ppsAdv"   class="advRow"></div>
  </div>
  <div id="achievementsScreen" class="screen">
    <div class="header">
      <h1>Achievements</h1>
      <button class="backBtn"
              onclick="showScreen('awardsScreen')">Back</button>
    </div>
    <div id="achievementsContent"></div>
  </div>
  <div id="challengesScreen" class="screen">
    <div class="header">
      <h1>Challenges</h1>
      <button class="backBtn"
              onclick="showScreen('awardsScreen')">Back</button>
    </div>
    <div id="challengesContent"></div>
  </div>
  <div id="statsScreen" class="screen">
    <div class="header">
      <h1>Stats</h1>
      <button class="backBtn"
              onclick="showScreen()">Back</button>
    </div>
    <div id="statsContent"></div>
  </div>
  <div id="leaderboardScreen" class="screen">
    <div class="header">
      <h1>Leaderboard & Prizes</h1>
      <button class="backBtn"
              onclick="showScreen('mainGame')">Back</button>
    </div>
    <div id="leaderboardList"
         style="padding:12px;font-size:16px;"></div>
  </div>
  <div id="settingsScreen" class="screen">
    <div class="header">
      <h1>Settings</h1>
      <button class="backBtn" onclick="showScreen()">Back</button>
    </div>
    <div style="padding: 24px;">
      <div style="margin-bottom: 24px;">
        <label>
          <input type="checkbox" id="musicToggle" onchange="toggleMusic()"/>
          Music On
        </label>
      </div>
      <div>
        <label for="bgColorSelect"><strong>Background Color:</strong></label>
        <select id="bgColorSelect" onchange="changeBgColor()">
          <option value="#f0f0f0">Default</option>
          <option value="#222">Dark</option>
          <option value="#87ceeb">Sky Blue</option>
          <option value="#ffefd5">Peach Puff</option>
          <option value="#ffe4e1">Misty Rose</option>
          <option value="#a0e7a0">Mint Green</option>
        </select>
      </div>
    </div>
  </div>
  <script>
    let score = 0,
        totalClicks = 0,
        lifetimePts = 0,
        sessionPts = 0,
        bonusClicks = 0,
        prestige = 0,
        buildings = [0,0,0,0],
        buildingCost = [10,100,1700,11000],
        upgradesBought = Array(9).fill(false),
        upgradeCost = [100,500,1000,1000,10000,50000,5000,8750,17000],
        mults = [1,1,1,1,1],
        achievements = {},
        challengesState = {},
        permanentMult = 1,
        gameStartTime = Date.now();

    let musicAudio = null;

    const achievementsList = [
      { key:'youPlayed',       label:'You played!'     },
      { key:'bonus1',          label:'Bonus Shape I'   },
      { key:'bonus10',         label:'Bonus Shape X'   },
      { key:'bonus100',        label:'Bonus Shape C'   }
    ];
    const challengesList = [
      { key:'speedPoints1',    label:'Speed Points 1',      th:1e6, time:10*60*1000 },
      { key:'speedPoints2',    label:'Speed Points 2',      th:1e6, time:20*60*1000 },
      { key:'speedPoints3',    label:'Speed Points 3',      th:1e6, time:30*60*1000 },
      { key:'bonusShapes1000', label:'Shape Bonanza',       th:1000, time:Infinity }
    ];
    const numberNames = {
      3:"Thousand", 6:"Million", 9:"Billion",12:"Trillion",
     15:"Quadrillion",18:"Quintillion",21:"Sextillion"
    };
    const summerMonths = [5,6,7],
          winterMonths = [11,0,1];
    let eventClicks=0, eventBuilds=0,
        nowMonth=new Date().getMonth(),
        lastMonth=+localStorage.getItem('lastMonth')||0,
        bestSummer=+localStorage.getItem('bestSummer')||0,
        bestWinter=+localStorage.getItem('bestWinter')||0,
        eventType = summerMonths.includes(nowMonth)?'summer'
                  : winterMonths.includes(nowMonth)?'winter'
                  : null;

    if(eventType) {
      const b = document.getElementById('seasonalBanner'),
            txt = eventType==='summer'
              ? 'Summer Click Contest!'
              : 'Winter Build Contest!';
      b.innerText=txt; b.style.display='block';
    }

    window.onload = () => {
      if(!summerMonths.includes(nowMonth) && summerMonths.includes(lastMonth)) {
        if(eventClicks>bestSummer) {
          permanentMult*=5;
          localStorage.setItem('bestSummer', eventClicks);
          alert('New Summer record! +500% PPS');
        }
        updateLeaderboard('summer', eventClicks);
      }
      if(!winterMonths.includes(nowMonth) && winterMonths.includes(lastMonth)) {
        if(eventBuilds>bestWinter) {
          permanentMult*=5;
          localStorage.setItem('bestWinter', eventBuilds);
          alert('New Winter record! +500% PPS');
        }
        updateLeaderboard('winter', eventBuilds);
      }
      localStorage.setItem('lastMonth', nowMonth);
      achievements.youPlayed = true;
      init();
    };

    function updateLeaderboard(key, val) {
      let lb = JSON.parse(localStorage.getItem(key+'Leaderboard')||'[]');
      lb.push(val);
      lb.sort((a,b)=>b-a);
      localStorage.setItem(key+'Leaderboard',
        JSON.stringify(lb.slice(0,10))
      );
    }

    function drawShape(){
      const size = 200, sw = 5, r = size/2;
      let shape = score<1e3 ? 'circle'
                : score<1e6 ? 'triangle'
                : 'square';
      const cols = ['grey','red','orange','yellow','green','blue','pink','magenta','violet'];
      let idx = -1;
      if(shape==='circle'  && score>=100)  idx = Math.floor((score-100)/100);
      if(shape==='triangle'&& score>=1e5)  idx = Math.floor((score-1e5)/1e5);
      if(shape==='square'  && score>=1e8)  idx = Math.floor((score-1e8)/1e8);
      const color = cols[idx]||'black';
      let svg = '';
      if(shape==='circle') {
        svg = `<svg width="${size}" height="${size}">
                 <circle cx="${r}" cy="${r}" r="${r-sw}"
                         fill="white" stroke="${color}" stroke-width="${sw}"/>
               </svg>`;
      }
      else if(shape==='triangle') {
        svg = `<svg width="${size}" height="${size}">
                 <polygon points="${r},${sw} ${sw},${size-sw} ${size-sw},${size-sw}"
                          fill="white" stroke="${color}" stroke-width="${sw}"/>
               </svg>`;
      }
      else {
        svg = `<svg width="${size}" height="${size}">
                 <rect x="${sw}" y="${sw}"
                       width="${size-2*sw}" height="${size-2*sw}"
                       fill="white" stroke="${color}" stroke-width="${sw}"/>
               </svg>`;
      }
      document.getElementById('shapeSVG').innerHTML = svg;
    }

    function handleClick(){
      const gain = 1 + (upgradesBought[1] ? buildings[0] : 0);
      bonusClicks++;
      if(bonusClicks>=1)   achievements.bonus1   = true;
      if(bonusClicks>=10)  achievements.bonus10  = true;
      if(bonusClicks>=100) achievements.bonus100 = true;
      score       += gain;
      sessionPts  += gain;
      totalClicks++;
      lifetimePts += gain;
      if(eventType==='summer') eventClicks++;
      updateScore();
      drawShape();
      renderAdv();
      renderStats();

      // Floating +gain (fall from shape center)
      const f = document.createElement('div');
      f.className = 'falling';
      f.innerText = '+' + gain.toFixed(2);
      f.style.left = '50%';
      f.style.top = '50%';
      f.style.transform = 'translate(-50%, -50%)';
      document.getElementById('gameContainer').appendChild(f);
      setTimeout(()=>f.remove(), 1500);
    }

    function calculatePPS(){
      const a  = buildings[0]*0.1*mults[0];
      const c  = buildings[1]*1  *mults[1];
      const m  = buildings[2]*10 *mults[2];
      const ai = buildings[3]*64.7*mults[3];
      const h  = upgradesBought[8]
               ? buildings.reduce((s,n)=>s+n,0) * mults[4]
               : 0;
      return (a + c + m + ai + h) * permanentMult;
    }
    setInterval(()=>{
      const inc = calculatePPS();
      score       += inc;
      sessionPts  += inc;
      lifetimePts += inc;
      updateScore();
      drawShape();
      renderAdv();
      renderStats();
    }, 1000);

    function renderAdv(){
      function mkRow(arr, id, chk){
        const cont = document.getElementById(id);
        cont.innerHTML = '';
        arr.forEach(o => {
          if(chk(o)) achievements[o.key||o.label] = true;
          const box = document.createElement('div');
          box.className = 'achBox' +
            (achievements[o.key||o.label] ? ' unlocked' : '');
          box.innerText = o.label;
          cont.appendChild(box);
        });
      }
      const colors = ['Grey','Red','Orange','Yellow','Green','Blue','Pink','Magenta','Violet'];
      const shapeAdv = [];
      colors.forEach((c,i)=>{
        shapeAdv.push({ th:100*(i+1),    label:`${c} Circle`   });
        shapeAdv.push({ th:1e5*(i+1),   label:`${c} Triangle` });
        shapeAdv.push({ th:1e8*(i+1),   label:`${c} Square`   });
      });
      mkRow(shapeAdv, 'shapeAdv', o=>score>=o.th);
      mkRow(
        [ {th:1e3, key:'mc',  label:'Must Click'},
          {th:1e6, key:'hac', label:'Human Autoclicker'} ],
        'clickAdv',
        o=>totalClicks>=o.th
      );
      mkRow(
        Object.entries(numberNames).map(([e,n])=>({
          th:10**+e, label:`${n} Points`
        })),
        'pointsAdv', o=>lifetimePts>=o.th
      );
      mkRow(
        Object.entries(numberNames).map(([e,n])=>({
          th:10**+e, label:`${n} PPS`
        })),
        'ppsAdv', o=>calculatePPS()>=o.th
      );
    }
    function renderShop(){
      const bnames = ['Autoclicker','Coder','Mathematician','AI Assistant'];
      document.getElementById('buildings').innerHTML =
        bnames.map((n,i)=>
          `<div class="shopItem" onclick="buyB(${i})">
             <p><strong>${n}</strong></p>
             <p>Cost: ${buildingCost[i]}</p>
             <p>Owned: ${buildings[i]}</p>
           </div>`
        ).join('');
      const unames = [
        'Double Autoclickers','Better Mouse','Reliable Hire',
        'Milestone 1','Milestone 2','Binary Coders',
        'Better Collab','High Efficiency','Algebraists'
      ];
      const ups = unames.map((n,i)=>({
        idx: i,
        name: n,
        cost: upgradeCost[i],
        bought: upgradesBought[i]
      })).sort((a,b)=>a.cost - b.cost);
      document.getElementById('upgrades').innerHTML =
        ups.map(u=>
          `<div class="shopItem" onclick="buyU(${u.idx})">
             <p><strong>${u.name}</strong></p>
             <p>Cost: ${u.cost}</p>
             <p>${u.bought?'Purchased':'Not Purchased'}</p>
           </div>`
        ).join('');
    }
    function buyB(i){
      if(score < buildingCost[i]) return alert('Too poor!');
      score -= buildingCost[i];
      buildings[i]++;
      if(eventType==='winter') eventBuilds++;
      buildingCost[i] = Math.floor(buildingCost[i]*1.15);
      updateScore(); renderShop(); renderStats();
    }
    function buyU(i){
      if(upgradesBought[i]) return alert('Already bought');
      if(score < upgradeCost[i]) return alert('Too poor!');
      score -= upgradeCost[i];
      upgradesBought[i] = true;
      const map  = [0,0,1,1,1,1,2,3,4];
      const mult = [2,2,1.5,2,1.5,2,1,1,1];
      mults[ map[i] ] *= mult[i];
      updateScore(); renderShop(); renderStats();
    }
    function renderStats(){
      const totalB = buildings.reduce((a,n)=>a+n,0),
            pps    = calculatePPS().toFixed(2);
      document.getElementById('statsContent').innerHTML = `
        <p>Points/sec: ${pps}</p>
        <p>Lifetime: ${Math.floor(lifetimePts)}</p>
        <p>This Reincarnation: ${sessionPts.toFixed(2)}</p>
        <p>Current: ${score.toFixed(2)}</p>
        <p>Advancements: ${Object.keys(achievements).length}</p>
        <p>Total Clicks: ${totalClicks}</p>
        <p>Buildings Owned: ${totalB}</p>
      `;
    }
    function renderLeaderboardScreen(){
      const key = eventType,
            lb  = JSON.parse(localStorage.getItem(key+'Leaderboard')||'[]'),
            title = key==='summer'?'Summer':'Winter';
      let html = `<h3>${title} Leaderboard</h3><ol>`;
      lb.forEach(v=> html += `<li>${v}</li>`);
      html += '</ol>';
      document.getElementById('leaderboardList').innerHTML = html;
    }
    function renderAchievements(){
      const c = document.getElementById('achievementsContent');
      c.innerHTML = '';
      achievementsList.forEach(a=>{
        const box = document.createElement('div');
        box.className = 'achBox ' + a.key +
                        (achievements[a.key]? ' unlocked':'');
        box.innerText = a.label;
        c.appendChild(box);
      });
    }
    function renderChallenges(){
      const c = document.getElementById('challengesContent'),
            now = Date.now();
      c.innerHTML = '';
      challengesList.forEach(ch => {
        let unlocked = !!challengesState[ch.key];
        if(!unlocked &&
           sessionPts >= ch.th &&
           (now - gameStartTime) <= ch.time) {
          unlocked = true;
          challengesState[ch.key] = true;
        }
        const box = document.createElement('div');
        box.className = 'challBox ' + ch.key +
                        (unlocked? ' unlocked':'');
        box.innerHTML = `
          <strong>${ch.label}</strong><br>
          ${(ch.th/1e6).toFixed(0)}M pts in
          ${(ch.time===Infinity)? 'âˆž': ch.time/60000} min
        `;
        c.appendChild(box);
      });
    }
    function initMusic() {
      if (!musicAudio) {
        musicAudio = new Audio("https://cdn.pixabay.com/audio/2022/10/16/audio_12c8f0cd2b.mp3");
        musicAudio.loop = true;
        musicAudio.volume = 0.4;
      }
      const musicOn = localStorage.getItem('musicOn') === "true";
      document.getElementById('musicToggle').checked = musicOn;
      if (musicOn) musicAudio.play();
      else if (musicAudio) musicAudio.pause();
    }
    function toggleMusic() {
      const on = document.getElementById('musicToggle').checked;
      localStorage.setItem('musicOn', on);
      if (on) {
        musicAudio.play();
      } else {
        musicAudio.pause();
      }
    }
    function initBgColor() {
      const savedColor = localStorage.getItem('bgColor') || "#f0f0f0";
      document.getElementById('bgColorSelect').value = savedColor;
      document.body.style.background = savedColor;
      document.querySelectorAll('.screen').forEach(
        screen => screen.style.background = savedColor
      );
    }
    function changeBgColor() {
      const color = document.getElementById('bgColorSelect').value;
      localStorage.setItem('bgColor', color);
      document.body.style.background = color;
      document.querySelectorAll('.screen').forEach(
        screen => screen.style.background = color
      );
    }
    function showScreen(id){
      [
        'mainGame','shopScreen','awardsScreen','advScreen',
        'achievementsScreen','challengesScreen',
        'statsScreen','leaderboardScreen','settingsScreen'
      ].forEach(name => {
        document.getElementById(name).style.display =
          (id===name || (!id && name==='mainGame'))
            ? 'block' : 'none';
      });
      if(id==='shopScreen')         renderShop();
      if(id==='advScreen')          renderAdv();
      if(id==='statsScreen')        renderStats();
      if(id==='leaderboardScreen')  renderLeaderboardScreen();
      if(id==='achievementsScreen') renderAchievements();
      if(id==='challengesScreen')   renderChallenges();
      if(id==='settingsScreen')     { initMusic(); initBgColor(); }
      if(!id || id==='mainGame')    updateScore();
    }
    function reincarnate(){
      if(lifetimePts < 1e6)
        return alert('Need 1,000,000 lifetime points');
      const base = Math.floor(lifetimePts / 1e6);
      prestige += base;
      document.getElementById('rmult').innerText = '+'+prestige;
      score=totalClicks=lifetimePts=sessionPts=bonusClicks=0;
      buildings=[0,0,0,0];
      buildingCost=[10,100,1700,11000];
      upgradesBought.fill(false);
      mults=[1,1,1,1,1];
      updateScore(); drawShape(); renderAdv(); renderStats();
      showScreen();
      alert('Reincarnated +' + base + ' prestige');
    }
    function updateScore(){
      document.getElementById('score').innerText = score.toFixed(2);
      document.getElementById('reincBtn').style.display =
        (lifetimePts>=1e6) ? 'block' : 'none';
      const panel = document.getElementById('leaderboard');
      panel.innerHTML = '';
      if(eventType){
        let arr = JSON.parse(localStorage.getItem(eventType+'Leaderboard')||'[]'),
            ti  = eventType==='summer'?'Summer':'Winter';
        let html = `<h3>${ti} Top10</h3><ol>`;
        arr.forEach(v=> html+=`<li>${v}</li>`);
        panel.innerHTML = html + '</ol>';
      }
    }
    function init(){
      drawShape();
      renderShop();
      renderAdv();
      renderStats();
      initMusic();
      initBgColor();
      showScreen();
    }
  </script>
</body>
</html>
